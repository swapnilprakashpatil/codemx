<div class="dashboard">
  <div class="hero">
    <h1>Medical Coding Researcher</h1>
    <p>Browse, search, and compare medical coding sets used in the healthcare industry. Explore mappings between SNOMED CT, ICD-10-CM, HCC, CPT, HCPCS, RxNorm, and NDC codes.</p>
    <a routerLink="/search" class="btn-primary">Search Codes</a>
  </div>

  @if (loading) {
    <div class="loading">Loading statistics...</div>
  }

  @if (stats) {
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon stat-icon-snomed">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12h6"/><path d="M12 9v6"/><circle cx="12" cy="12" r="10"/></svg>
        </div>
        <span class="stat-number">{{ stats.snomed_codes | number }}</span>
        <span class="stat-label">SNOMED Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-icd10">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
        </div>
        <span class="stat-number">{{ stats.icd10_codes | number }}</span>
        <span class="stat-label">ICD-10-CM Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-hcc">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/></svg>
        </div>
        <span class="stat-number">{{ stats.hcc_codes | number }}</span>
        <span class="stat-label">HCC Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-cpt">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        </div>
        <span class="stat-number">{{ stats.cpt_codes | number }}</span>
        <span class="stat-label">CPT Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-hcpcs">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/><path d="M9 14l2 2 4-4"/></svg>
        </div>
        <span class="stat-number">{{ stats.hcpcs_codes | number }}</span>
        <span class="stat-label">HCPCS Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-rxnorm">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75A2.25 2.25 0 0 0 15.75 1.5H13.5m-3 0V3h3V1.5m-3 0h3m-6 9.75h6m-3-3v6"/></svg>
        </div>
        <span class="stat-number">{{ stats.rxnorm_codes | number }}</span>
        <span class="stat-label">RxNorm Codes</span>
      </div>
      <div class="stat-card">
        <div class="stat-icon stat-icon-ndc">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 9h6v6H9z"/><path d="M9 1v6m0 6v6m6-12V1m0 6v6"/></svg>
        </div>
        <span class="stat-number">{{ stats.ndc_codes | number }}</span>
        <span class="stat-label">NDC Codes</span>
      </div>
      <div class="stat-card highlight">
        <div class="stat-icon stat-icon-mapping">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="12" r="3"/><circle cx="19" cy="12" r="3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        </div>
        <span class="stat-number">{{ stats.snomed_icd10_mappings | number }}</span>
        <span class="stat-label">SNOMED-ICD10 Mappings</span>
      </div>
      <div class="stat-card highlight">
        <div class="stat-icon stat-icon-mapping">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="12" r="3"/><circle cx="19" cy="12" r="3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        </div>
        <span class="stat-number">{{ stats.snomed_hcc_mappings | number }}</span>
        <span class="stat-label">SNOMED-HCC Mappings</span>
      </div>
      <div class="stat-card highlight">
        <div class="stat-icon stat-icon-mapping">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="12" r="3"/><circle cx="19" cy="12" r="3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        </div>
        <span class="stat-number">{{ stats.icd10_hcc_mappings | number }}</span>
        <span class="stat-label">ICD10-HCC Mappings</span>
      </div>
      <div class="stat-card highlight">
        <div class="stat-icon stat-icon-mapping">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="12" r="3"/><circle cx="19" cy="12" r="3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        </div>
        <span class="stat-number">{{ stats.rxnorm_snomed_mappings | number }}</span>
        <span class="stat-label">RxNorm-SNOMED Mappings</span>
      </div>
      <div class="stat-card highlight">
        <div class="stat-icon stat-icon-mapping">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="12" r="3"/><circle cx="19" cy="12" r="3"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        </div>
        <span class="stat-number">{{ stats.ndc_rxnorm_mappings | number }}</span>
        <span class="stat-label">NDC-RxNorm Mappings</span>
      </div>
    </div>
  }

  <h2>Code Sets</h2>
  <div class="code-sets-grid">
    @for (cs of codeSets; track cs.name) {
      <a [routerLink]="cs.route" class="code-set-card">
        <div class="card-icon" [ngClass]="'icon-' + cs.icon">
          @switch (cs.icon) {
            @case ('snomed') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12h6"/><path d="M12 9v6"/><circle cx="12" cy="12" r="10"/></svg>
            }
            @case ('icd10') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
            }
            @case ('hcc') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/></svg>
            }
            @case ('cpt') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
            }
            @case ('hcpcs') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/><path d="M9 14l2 2 4-4"/></svg>
            }
            @case ('rxnorm') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75A2.25 2.25 0 0 0 15.75 1.5H13.5m-3 0V3h3V1.5m-3 0h3m-6 9.75h6m-3-3v6"/></svg>
            }
            @case ('ndc') {
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 9h6v6H9z"/><path d="M9 1v6m0 6v6m6-12V1m0 6v6"/></svg>
            }
          }
        </div>
        <h3>{{ cs.name }}</h3>
        <p>{{ cs.description }}</p>
      </a>
    }
  </div>

  <div class="quick-links">
    <h2>Quick Actions</h2>
    <div class="links-grid">
      <a routerLink="/mappings" class="quick-link">
        <div class="quick-link-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/><polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="4" y1="4" x2="9" y2="9"/></svg>
        </div>
        <div class="quick-link-text">
          <strong>Code Mappings</strong>
          <span>Lookup SNOMED to ICD-10 and HCC mappings</span>
        </div>
      </a>
      <a routerLink="/compare" class="quick-link">
        <div class="quick-link-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/><line x1="3" y1="12" x2="21" y2="12"/></svg>
        </div>
        <div class="quick-link-text">
          <strong>Compare Codes</strong>
          <span>Compare codes across different coding sets</span>
        </div>
      </a>
      <a routerLink="/conflicts" class="quick-link">
        <div class="quick-link-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        </div>
        <div class="quick-link-text">
          <strong>Mapping Conflicts</strong>
          <span>Review and resolve mapping conflicts</span>
        </div>
      </a>
      <a routerLink="/resources" class="quick-link">
        <div class="quick-link-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        </div>
        <div class="quick-link-text">
          <strong>Resources</strong>
          <span>Coding guidelines, training, and updates</span>
        </div>
      </a>
    </div>
  </div>

  <!-- ═══════════════════════════════════════════════════════ -->
  <!-- ARCHITECTURE OVERVIEW -->
  <!-- ═══════════════════════════════════════════════════════ -->
  <app-architecture></app-architecture>
</div>
